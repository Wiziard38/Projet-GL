; start main program
; Class declaration
; Class object
	LOAD #null, R1
	PUSH R1
	LOAD object.equals, R2
	PUSH R2

; class a90
	LEA 1(GB), R2
	PUSH R2
	LOAD object.equals, R2
	STORE R2, 1(SP)
	LOAD a.testASM90, R2
	STORE R2, 2(SP)
	ADDSP #2

; class A150
	LEA 1(GB), R2
	PUSH R2
	LOAD object.equals, R2
	STORE R2, 1(SP)
	ADDSP #1

; Main Program
	TSTO #2
; A x = new A();
	NEW #2, R2
	LEA 6(GB), R3
	STORE R3, 0(R2)
	PUSH R2
	BSR init.A150
	POP R2
	PUSH R2
; 
; a y = new a();
	NEW #2, R2
	LEA 3(GB), R3
	STORE R3, 0(R2)
	PUSH R2
	BSR init.a90
	POP R2
	PUSH R2
; 
; Beginning of main instructions:
	LOAD 8(GB), R2
	LOAD 1(R2), R2
	LOAD R2, R1
	WINT
	LOAD 9(GB), R3
	LOAD 1(R3), R3
	LOAD R3, R1
	WINT
	WNL
; 
; End of the main program
	HALT
; 
; Method declaration
object.equals:
	PUSH R3
	PUSH R2
	LOAD -2(LB), R2
	LOAD -3(LB), R3
	CMP R2, R3
	SEQ R0
	POP R2
	POP R3
	RTS
; 
init.a90:
	TSTO #0
	PUSH R4
	PUSH R3
	PUSH R2
	LOAD #6, R2
	LOAD -2(LB), R3
	STORE R2, 1(R3)
	POP R2
	POP R3
	POP R4
	RTS
; 
a.testASM90:
	TSTO #0
REM R1 R0 
    REM R1 R0
; 
init.A150:
	TSTO #0
	PUSH R4
	PUSH R3
	PUSH R2
	LOAD #8, R2
	LOAD -2(LB), R3
	STORE R2, 1(R3)
	POP R2
	POP R3
	POP R4
	RTS
; 
; 
; end main program
